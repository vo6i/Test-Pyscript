<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>ðŸ¦œ Polyglot - Piratical PyScript</title>
      <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
      <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
      
  </head>
  <body>
    <div>
      <py-env>
      - numpy
      - requests
      - beautifulsoup4
      </py-env>

      <py-script>

        import numpy as np

        print(np.random.randn(10, 4))

      </py-script>
    </div>
    <py-script>
      
      print("THIS IS PYTHON")
      txttst = input('Enter you name:') 
      print("hello, ", txttst) 

      import requests

      from bs4 import BeautifulSoup
      from js import document, XMLHttpRequest
      
      URL = "https://habr.com/ru/search/?target_type=posts&q=python&order_by=date"
      req = XMLHttpRequest.new()
      req.open("GET", URL, True)
      req.send(None)
      soup = BeautifulSoup(req.response, "html.parser")

      post = soup.find("article", class_="tm-articles-list__item", id=True)
      post_id = post["id"]
      print(post_id)

      h2ck = post.find("h2", class_="tm-title tm-title_h2")
      title = h2ck.find("span").text.strip() 
      url = post.find("a", class_="tm-title__link", href=True)["href"].strip()

      print(title,url)

    </py-script>
    

    <!-- TODO: Fill in our custom application code here... -->

  </body>
</html>
